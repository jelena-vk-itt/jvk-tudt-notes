<!DOCTYPE html>
<html lang="en">
    <head>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta charset="UTF-8"/>
	<link rel="shortcut icon" type="image/x-icon" href="res/images/logo.png"/>
	
	<link rel="stylesheet" type="text/css" href="res/styles/ooswd.css"/>
	<title>OOSWD</title>
    </head>
    <body>
	<header id="tudheader">
	    <img id="leftlogo" src="../common/res/images/tudublin_logo.png" alt="TU Dublin Logo">
	    <div id="tuddepttext">
		<p>School of Computer Science</p>
	    </div>
	    <div id="titlecontainer">
		<p id="title">While loops</p>
	    </div>
	    <img id="rightlogo" src="res/images/logo.png" alt="Logo" />
	</header>

	<div id="content">
	    <nav>
		<ul class="links">
		    <li><a href="index.html">Home</a></li>
		</ul>
		<ul class="commands">
		    <li class="openall">Open all</li>
		    <li class="closeall">Close all</li>
		</ul>

	    </nav>

	    <article>
		<ol class="toc_grp newline">

		    <li id="ooswd-4.0-01">
			<p>What is a loop in programming?</p>
			<article style="display:none">
			    <h2>What is a loop in programming?</h2>

			    <figure class="twonh ml1 fr">
				<figcaption>The flowchart of a generic loop in a computer program</figcaption>
				<img src="res/images/loop_gen_flowchart.png">
			    </figure>
			    <p>The loop is one of the three essential ingredients needed for expressing algorithms:
				<ul>
				    <li>assignments</li>
				    <li>conditional statements</li>
				    <li class="maroon">loops</li>
				</ul>
			    </p>
			    <p>A loop is used when the same instructions need to be iterated (repeated several times):
				<ul>
				    <li>to improve the development process (speed, readability and maintainability)</li>
				    <li>to optimise the program (smaller code size)</li>
				    <li>to make use of the processing power of a computer (i.e. get things done on a scale that humans cannot achieve)</li>
				    <li>to allow the program to be written at all:
					<ul>
					    <li>the number of iterations may not be known in advance if it depends on environment communication or is random</li>
					    <li>if the program represents a 'server' (runs infinitely)</li>
					</ul>
				    </li>
				</ul>
			    </p>
			</article>
		    </li>

		    <li id="ooswd-4.0-02">
			<p>The while loop in Python</p>
			<article style="display:none">
			    <h2>The while loop in Python</h2>
			    <p>The main function of a loop is to <strong>repeat some group of instructions over and over again</strong>. The loop in code snippet <a class="xref" href="#py-while-inf">?</a> does exactly that: it prints out the number 1 over and over again. The condition is <span class="fw">number == 1</span> and in this context always true. The call to <span class="fw">time.sleep()</span> has been added to space the iterations by 1 second, to avoid looping at a speed that hogs the CPU and freezes the computer running it. Once running, this little program will have to be stopped externally (<strong>Ctrl-C</strong> on the command line or stop button in PyCharm).</p>
			    <figure id="py-while-inf" class="my1">
				<figcaption>Example of an infinite while loop in Python</figcaption>
				<code><pre class="code-listing">
import time
number = 1
while number == 1:
   print(number)
   time.sleep(1)</pre></code>
				
			    </figure>

			    <figure class="threenh mt1 fl">
				<figcaption>Relating a Python while loop to the generic flowchart</figcaption>
				<img src="res/images/while_loop_mapping.png">
			    </figure>

			    <figure class="two mt1 fl">
				<figcaption>The syntax of a Python while loop</figcaption>
				<img src="res/images/while_loop_syntax.png">
			    </figure>
			    
			    
			</article>
		    </li>

		    
	            <!--------------------------------------------------------------------->            
                    <li id="ARTCLID000018">
			<p>Exiting the loop</p>
			<article style="display:none">
                            <h2>Exiting the loop</h2>

			    <p>Most of the time, loops do not run infinitely and are written so that the conditional expression evaulates to <span class="fw">False</span> after a finite number of iterations. This can happen in different ways.</p>
			    <ul>
				<li>The variable checked in the conditional expression may be one that assumes values from a <strong>fully determined sequence</strong>, eventually reaching a value that makes the expression <span class="fw">False</span>. In this case the number of iterations is known in advance.
				    <figure id="py-while-det-ct" class="my1">
					<figcaption>Example of a while loop with the number of iterations fully determined at the time of coding</figcaption><pre class="code-listing">
number = 1
while number < 11:
   print(1)
   number = number + 1	    </pre>
				    </figure>

				    <details class="ice"><summary></summary>
					<p>Write a Python script that produces the output below. Use a while loop to print the lines between the first and the last one.</p><pre>
**********
*        *
*        *
*        *
*        *
**********</pre>
					<p><a href="res/files/python/loops/x4_print_rect.py">EXAMPLE SOLUTION</a></p>
				    </details>

				    <details class="ice"><summary></summary>
					<p>Write a loop that prints 10 random numbers between 1 and 11 (inclusive). </p>
					<p><a href="res/files/python/loops/x10_print_rand.py">EXAMPLE SOLUTION</a></p>
				    </details>

				    Often, the number of iterations cannot be determined at the time of coding but <strong>at run-time is known before the loop is executed</strong>. This is the case in code snippet <a class="xref" href="#py-while-det-rt">?</a>. Notice that if the user enters <span class="fw">1</span>, the statement block of the loop will never be executed (0 iterations).
				    <figure id="py-while-det-rt" class="my1">
					<figcaption>Example of a while loop with iterations fully determined at run-time</figcaption><pre class="code-listing">
iterCount = input("Please enter a positive whole number: ")
number = 1
while number <= iterCount:
   print(1)
   number = number + 1</pre>
				    </figure>

				    <details class="ice"><summary></summary>
					<p>Write a Python script that:</p>
					<ul>
					    <li>generates a random number between 1 and 10 (inclusive) and stores it in a variable called <span class="fw">iterationCount</span></li>
					    <li>prints out the number <span class="fw">1</span> <span class="fw">iterationCount</span> times using a while loop</li>
					</ul>
					
					<p><a href="res/files/python/loops/xrand_print_1.py">EXAMPLE SOLUTION</a></p>
				    </details>
				</li>
				<li>The variables checked in the conditional expression may, alternatively, depend on some <strong>factor external to the program</strong> and subsequently not be known to it before the loop runs. In this case the number of iterations cannot be known in advance. For example, a random number generator or user input, if used as the variable checked in the condition, would result in this scenario. The value obtained externally that halts the execution of the loop is often called the <strong>sentinel</strong> value.
				    
				    <figure id="py-while-indet-rand" class="my1">
					<figcaption>Example of a while loop with an unknown number of iterations owing to a random process</figcaption>
					<pre class="code-listing">
import random
number = 1
while number != 11:
   print(1)
   number = random.randint(1, 11)			    </pre>
				    </figure>	    

				    <details class="ice"><summary></summary>
					<p>Rewrite code snippet <a class="xref" href="#py-while-indet-rand">?</a> so that the loop statement block prints out the value of <span class="fw">number</span> rather than <span class="fw">1</span>. The loop in <a class="xref" href="#py-while-indet-rand">?</a> always prints out <span class="fw">1</span> at least once, because the random number is not generated or checked until the first iteration. Modify the script to generate a random number before entering the loop, resulting in no numbers printed if the first number 'drawn' is 11.</p>
					<p>Test your script. It will take a few runs, but you will eventually get one where no numbers are printed out.</p>
					<p><a href="res/files/python/loops/sent_rand_from_start.py">EXAMPLE SOLUTION</a></p>
				    </details>
				    
				    <figure id="py-while-indet-input" class="my1">
					<figcaption>Example of a while loop with exit conditioned on user input</figcaption>
					<pre class="code-listing">
number = int(input("Please enter a number between 1 and 10 or 11 to stop: "))
while number != 11:
   print(1)
   number = int(input("Please enter a number between 1 and 10 or 11 to stop: "))</pre>
				    </figure>	    

				    <figure id="py-while-indet-file" class="my1">
					<figcaption>Example of a while loop with exit conditioned on data from a file (requires a text file called data.txt in the directory where it is running [<a href="res/files/python/loops/data.txt">sample contents]</a>)</figcaption><pre class="code-listing">
numList = []
f = open("data.txt", 'r')  # opens file data.txt for reading
l = f.readline()           # reads a line from the file
isNum = ''.join(l.strip().split('.', 1)).isnumeric()
while isNum:
   numList += [ float(l) ]
   l = f.readline()
   isNum = ''.join(l.strip().split('.', 1)).isnumeric()

f.close()                  # closes the file

print(numList)</pre>			    
				    </figure>
				</li>
			    </ul>
			</article>
		    </li>
		    
		    
		    <!--------------------------------------------------------------------->            
                    <li id="ARTCLID000019">
			<p>Iteration initialisation and choosing conditional variables</p>
			<article style="display:none">
                            <h2>Iteration initialisation and choosing conditional variables</h2>

			    <h3>Desiging initial conditions for all iterations (not only the first one)</h3>
			    <p>While initialisation is generally explicitly named as part of the standard while loop structure, variables (both conditional and other) must be set up in each iteration in preparation for the next one. The initial conditions of the loop are available to the first iteration as it is executed. The conditions created in the first iteration are available to the second iteration and so on.</p>

			    <p>For example, in code snippet <a class="xref" href="#py-while-det-ct">?</a>, the variable <span class="fw">number</span> must be 'set up' for each iteration:</p>
			    <ul>
				<li>for the first iteration, it is set to 1 (before the loop starts)</li>
				<li>for subsequent iterations, the preparation consists of <span class="fw">number</span> being incremented</li>
			    </ul>
			    <p>In this example <span class="fw">number</span> represents the iteration number and is not used in any way except as a conditional variable.</p>
			    
			    <details class="ice"><summary></summary>
				<p>Examine all the code snippets and in-class exercise solutions and identify all the set up that is performed for the loop iterations.</p>
			    </details>

			    <h3>Choosing conditional variables</h3>
			    <p>It is often a good idea to design the statement block (the body) of the while loop first, then identify conditional variables. Most of the time the conditional variables can be chosen from variables already used in the statement block. We will look at this process through some examples.</p>

			    <h4>Example 1 - processing a predetermined sequence</h4>
			    <p>Let's say we want to print out all the numbers from 1 to 10. We want the first iteration to print 1, the second to print 2 etc. (10 iterations in all).</p>
			    <ul>
				<li>First, let's <strong>design the statement block</strong>:
				    <ul>
					<li>Because the number printed is changing from iteration to iteration, it needs to be a variable, e.g. <span class="fw">n</span></li>
					<li>Then we can easily write the main part of the statement block as <span class="fw">print(n)</span></li>
					<li>The last thing that is missing in the statement block is some code to set up <span class="fw">n</span> for the next iteration: <span class="fw">n = n + 1</span></li>
					<li>Also, <span class="fw">n</span> needs to be set up for the first iteration. The statement <span class="fw">n = 1</span> placed before the loop achieves this.</li>
				    </ul>
				</li>
				<li>Now we need to <strong>design the while loop condition</strong>. This takes a small bit of analysis. The variable <span class="fw">n</span> is moving upwards by one in each iteration and we want the looping to stop when <span class="fw">n</span> goes beyond 10. So <span class="fw">n</span> naturally lends itself as the basis for the condition, <span class="fw">n &lt; 11</span>.</li>
			    </ul>
			    <p>We can now write the short program. It is provided as code snippet <a class="xref" href="#py-des-det-ct">?</a>.</p>
			    <figure id="py-des-det-ct" class="my1">
				<figcaption>A loop that prints out the numbers from 1 to 10</figcaption><pre class="code-listing">
n = 1
while n < 11:
   print(n)
   n = n + 1</pre>
			    </figure>

			    <h4>Example 2 - processing a sequence defined at run-time</h4>
			    <p>Let's say we want to print out all the characters in a word input by the user, each character on a separate line followed by its UTF code in square brackets.</p>

			    <ul>
				<li>Again, let's design the statement block first:
				    <ul>
					<li>The character changes between iterations so must be a variable, e.g. <span class="fw">c</span></li>
					<li>This makes it easy to write the printing code: <span class="fw">print("{0}[{1}]".format(c, ord(c)))</span></li>
					<li>Between iterations, we need the script to move from character to character in a word entered by the user. Let's call the word variable <span class="fw">theWord</span> and we'll worry about obtaining it later.</li>
					<li>Now is there a quantity related to the characters in the word that can be updated consistently (with the same operation) for all iterations? The index of the characted in the word fits the bill and the update operation is <span class="fw">index = index + 1</span>. Thus we have to add a variable representing the index and use that to extract the characters from the word with <span class="fw">c = theWord[index]</span>.</li>
					<li>We also need to set <span class="fw">index</span> to 0 for the first iteration.</li>
				    </ul>
				    Our design so far looks like this:<pre>

index = 0
while &lt;condition>:
   c = theWord[index]
   print("{0}[{1}]".format(c, ord(c)))
   index += 1</pre>
				</li>
				<li>To design the condition, we must analyse the expected sequence of indices. It starts at 0 and ends at <span class="fw">len(theWord) - 1</span>. We want the loop to stop after that and can achieve it with the condition <span class="fw">index < len(theWord)</span>.</li>
			    </ul>
			    <p>We can now write the short program. It also needs to include the reading of the word as user input. It is provided as code snippet <a class="xref" href="#py-des-det-rt">?</a>. The length of the word is stored in a variable for optimisation (i.e. so that the length is not calculated in every iteration).</p>
			    <figure id="py-des-det-rt" class="my1">
				<figcaption>A loop that prints out the characters of a word</figcaption><pre class="code-listing">
theWord = input("Please enter a word: ")
wordLength = len(theWord)
index = 0
while i < wordLength:
   c = theWord[index]
   print("{0}[{1}]".format(c, ord(c)))
   index += 1</pre>
			    </figure>

			    <details class="ice"><summary></summary>
				<p>Write a Python script with a while loop that reads a list of words input by the user and prints them one per line, each word preceded by its ordinal number (1, 2, 3 etc.).</p>
				<p><a href="res/files/python/loops/list_print.py">EXAMPLE SOLUTION</a></p>
			    </details>			
			    
			    <h4>Example 3 - processing a sequence defined by a sentinel</h4>
			    <p>Let's say we want to collect some sentences from the user and add them to a list, which is then printed at the end.</p>
			    <ul>
				<li>Statement block design:
				    <ul>
					<li>The number of sentences is not predefined so we need to introduce a sentinel (special sentence) that signals the end of the entry process. We could use an empty string but that would be prone to mistakes. Instead let the sentinel be a full stop (<span class="fw">.</span>).</li>
					<li>The action we need to perform on the entered sentences is to add them to a list: <span class="fw">sentenceList += [ currSentenceStr ]</span>. So we need a list variable and we need a string to hold the latest sentence input by the user.</li>
					<li>To create conditions for the next iteration, we need to read in the next sentence: <span class="fw">currSentenceStr = input("Enter your next sentence or full stop (.) if finished: ")</span></li>
					<li>To create the initial conditions we need to initialise all variables:
					    <ul>
						<li>for the sentence, use the same code as above: <span class="fw">currSentenceStr = input("Enter your next sentence or full stop (.) if finished: ")</span></li>
						<li>for the list, start with an empty one: <span class="fw">sentenceList = []</span></li>
					    </ul>
					</li>
				    </ul>
				</li>
				<li>Condition design: this can be a simple check for the sentinel value: <span class="fw">currSentenceStr != "."</span></li>
			    </ul>
			    <p>The full program, including the printing at the end, is given as code snippet <a class="xref" href="#py-des-sent">?</a>.</p>

			    <figure id="py-des-sent" class="my1">
				<figcaption>A loop that collects sentences until a 'stop' value is entered</figcaption><pre class="code-listing">
sentenceList = []
currSentenceStr = input("Enter your next sentence or full stop (.) if finished: ")
while currSentenceStr != '.':
   sentenceList += [ currSentenceStr ]
   currSentenceStr = input("Enter your next sentence or full stop (.) if finished: ")

print("Your sentences:\n------------------\n" + "\n".join(sentenceList))</pre>			    
			    </figure>
			    
			    <details class="ice"><summary></summary>
				<p>Write a Python script that reads in three words separated by whitespace, entered by the user. The program should check the number of words entered and that they contain only alphabetic characters. If the input does not meet these requirements the program should ask the user to try again and repeat the process in a while loop until the input is valid.</p>
				<p>Next, the program should print the words, each in a new line and followed by its length in square brackets.</p>
				<p><a href="res/files/python/loops/three_words.py">EXAMPLE SOLUTION</a></p>
			    </details>
			    
			    <h4>Condition independent from iteration functionality</h4>
			    <p>All the code snippets in section <a href="#ARTCLID000018"><em>Exiting the loop</em></a> (<a class="xref" href="#py-while-det-ct">?</a>, <a class="xref" href="#py-while-det-rt">?</a>, <a class="xref" href="#py-while-indet-rand">?</a> and <a class="xref" href="#py-while-indet-input">?</a>) are examples of loops where the task performed in the while loop statement block is independent of the condition. In all those examples, the task in an individual iteration is to print the number 1.</p>
			    <p>The statement block core (<span class="fw">print(1)</span>) does not define any variables that can be used in the condition. Variables are defined specifically for the purpose of controlling the iteration and updated in the statement block to reflect the iteration requirements.</p>

			    <details class="ice"><summary></summary>
				<p>Write a Python script that fetches a random number between 1 and 3, asks the user to guess it and prints if the guess was correct. It should use a while loop to repeat this 3 times and print, at the end, how many out of three guesses were correct.</p>
				<p><a href="res/files/python/loops/independent_cond.py">EXAMPLE SOLUTION</a></p>
			    </details>
			    
			</article>
                    </li>

		    
	            <!--------------------------------------------------------------------->            
                    <li id="ARTCLID000014">
			<p>The while loop model</p>
			<article style="display:none">
                            <h2>The while loop model</h2>

			    <p>If we step away from the code for a minute we can have a look at iterative processes in a slightly more general form, rather than in terms of Python constructs. Consider the following model of an iterative process:</p>
			    <figure class="three">
				<figcaption>A general model of iterative processes</figcaption>
				<img src="res/images/iteration_analysis.png">
			    </figure>

			    <p>Also consider how the iterations of a simple loop such as that in code snippet <a class="xref" href="#py-while-det-ct">?</a> might be thought of on first analysis (model and pseudocode):</p><pre>
do stuff 1                 set n (iter 1)
-----------------> check   -----------------> check 
do stuff 2                 print number 1
                           set n (iter 2 etc.)</pre>
			    <p>The <span class="fw">while</span> keyword and condition correspond to the check in the general model i.e. the while loop iterations (condition + statement block)  must start where the arrow is. This means that <span class="fw">set n</span> for the first iteration of the general model has to happen before the while loop is entered (this is initialisation) and that <span class="fw">set n</span> for subsequent iterations must happen at the end of the while statement block (iteration initialisation). After mapping this model onto the Python while loop in <a class="xref" href="#py-while-det-ct">?</a>, we get:</p><pre>
set n (iter 1)             n = 0
-----------------> check   while number < 11:
print number 1                print(1)
set n (iter 2 etc.)           number = number + 1</pre>

			    <p>We can map any loop onto this model but it is particularly useful for analysing a problem and translating it into a while loop. We will work through several examples, introducing some new constructs along the way.</p>



			    <h3>Example 1: While loop without initialisation</h3>
			    <p>If <em>stuff 1</em> of the model can be packed into the expression that <em>check</em> looks at, then there is no need for initialisation before the while loop. In that case the model would look more like:</p><pre>
-----------------> do stuff 1 and check   
do stuff 2                            </pre>
			    <p>This generally involves a call to a function or a method, like in the following example, where a random number is obtained and checked inside the conditional expression.</p>
			    <figure id="py-while-no-init" class="my1">
				<figcaption>While loop with no initialisation</figcaption><pre class="code-listing">
import random
while random.randint(1, 11) != 11:
   print(1)</pre>
			    </figure>

			    <details class="ice"><summary></summary>
				<p>Rewrite the loop in code snippet <a class="xref" href="#py-while-no-init">?</a> to use a value input by the user in the condition, rather than a random value.</p>
				<p><a href="res/files/python/loops/while_no_init.py">EXAMPLE SOLUTION</a></p>
			    </details>
			    
			    <h3>Example 2: First iteration always runs (do-while loop)</h3>
			    <p>Let's have a look at a loop where we want the first iteration to run without a check. In our stuff 1/2 model, this corresponds to stuff 1 and stuff 2 being exactly the same.</p>
			    <p>Let's say that a user is entering a password and they are allowed 5 mistakes before they get locked out of an account. The stored passwords are hashed (coded) for security. This means that an entered value must be hashed before it is compared with the stored value. The following picture shows the required loop.</p><pre>
do stuff 1                  ask user to enter password 
			    read input password	  
                            hash the password	  
                            set attempt count	  
------------------> check   ---------------------------> password wrong & attempt &lt;6
do stuff 2,                 ask user to enter password 
same as do stuff 1          read input password	  
                            hash the password	  
                            set attempt count	  </pre>

			    <p>This might be implemented in Python as in the following picture.</p>
			    <figure id="py-same-init-and-body" class="my1">
				<figcaption>A while loop with almost identical initialisation and loop body</figcaption><pre class="code-listing">
# code outside of loop:
# the actual password, stored in a coded (hashed) form 
storedHash = hash("abcde")

# initialisation
attempt = 1
pwd = input("Please enter your password: ")
hashed = hash(pwd)

# the loop
while hashed != storedHash and attempt < 6:
   attempt += 1
   pwd = input("Please enter your password: ")
   hashed = hash(pwd)</pre>
			    </figure>
			    
			    <p>This kind of pattern in a loop is most naturally implemented with a do-while loop, which exists in some programming languages. In a <strong>do-while</strong> loop the check happens at the end of the iteration, rather than at the beginning.</p>
			    <p>A do-while loop can be emulated in Python by initialisation that 'passes' the check but does not affect the logic otherwise (dummy values). This allows the code that has to be repeated in code snipped <a class="xref" href="#py-same-init-and-body">?</a> to be kept in one place i.e. inside the loop.</p>

			    
			    <figure id="py-dummy-cond" class="my1">
				<figcaption>Using dummy conditional variable values to emulate a do-while loop</figcaption><pre class="code-listing">
# code outside of loop:
# the actual password, stored in a coded (hashed) form
storedHash = hash("abcde") 

# initialisation, with a dummy value for the password
attempt = 0
hashed = hash("") # dummy: hash of "" (not allowed as password)

# the loop
while hashed != storedHash and attempt < 6:
   attempt += 1
   pwd = input("Please enter your password: ")
   hashed = hash(pwd)</pre>
			    </figure>

			    <p>It is often the case that something slightly different, particularly in prompting the user, needs to be done in the first iteration. The dummy variable can be used to check if the iteration is the first one or not. The dummy variable can then also be used to check if the iteration is the first one inside the loop code block. Code snippet <a class="xref" href="#py-dummy-for-diff">?</a> is the same as <a class="xref" href="#py-dummy-cond">?</a> except that it prints a slightly different prompt the first time around, using the dummy variable to determine if the iteration is the first one.</p>
			    <figure id="py-dummy-for-diff" class="my1">
				<figcaption>Using dummy variable value to check if in first iteration</figcaption><pre class="code-listing">
# code outside of loop:
# the actual password, stored in a coded (hashed) form
storedHash = hash("abcde")

# initialisation
attempt = 0
hashed = hash("") # dummy: hash of "" (not allowed as password)

# the loop
while hashed != storedHash and attempt < 6:
   attempt += 1
   if hashed == hash(""):
      pwd = input("Please enter your password: ")
   else:
      pwd = input("Password incorrect. Please try again: ")
   hashed = hash(pwd)</pre>
			    </figure>
			    
			    <p>A 'do-while' pattern can be recognised from requirements. It emerges from scenarios where the sentinel value needs to be treated the same as any values before it. Password entry is such a case: both the incorrect passwords and the correct password (the sentinel) are treated the same i.e. collected from the user and then hashed.</p>

			    <details class="ice"><summary></summary>
				<p>Write a script including a while loop that reads in words from the user, putting them together into a sentence and printing out the sentence when finished. A word with a full stop at the end signals the end but should be included in the sentence.</p>
				<p>Write two versions of the script: one that does not employ a dummy conditional variable and one that does.</p>
				<p>Sample expected interaction:</p>
				<div class="box bg-black white">
				    <span class="fw">Enter the next word for the sentence (with . at end if last): </span><span class="fw red">I</span><br/>
				    <span class="fw">Enter the next word for the sentence (with . at end if last): </span><span class="fw red">am</span><br/>
				    <span class="fw">Enter the next word for the sentence (with . at end if last): </span><span class="fw red">happy.</span><br/>
				    <span class="fw">Your sentence: "I am happy."</span>
				</div>
				<p><a href="res/files/python/loops/do_while_not.py">EXAMPLE SOLUTION FOR V1</a>&nbsp;&nbsp;&nbsp;<a href="res/files/python/loops/do_while_done.py">EXAMPLE SOLUTION FOR V2</a></p>
			    </details>
			</article>
		    </li>

		    
	            <!--------------------------------------------------------------------->            
                    <li id="ARTCLID000141">
			<p>Loop constructs break, continue and else</p>
			<article style="display:none">
                            <h2>Loop constructs break, continue and else</h2>

			    <p>The keywords <span class="fw">break</span>, <span class="fw">continue</span> and <span class="fw">else</span> are used in Python for some additional constructs that can be used with the while loop.</p>
			    <ul>
				<li><span class="fw">break</span> makes the flow of execution 'escape' the while loop and resume from the first instruction outside the loop</li>
				<li><span class="fw">continue</span> makes the flow of execution 'escape' from the current iteration and resume at condition checking for the subsequent iteration</li>
				<li><span class="fw">else</span> follows the loop immediately and contains a statement block to be executed after the while loop, but only if it did not come to an end due to a break instruction</li>
			    </ul>

			    <h3><span style="font-size: x-large" class="fw">break</span> example</h3>
			    <p>In the following example the initialisation code is repeated as the second part of the loop statement block. </p>
			    <figure id="py-mid-check-no-break" class="my1">
				<figcaption>Example of a while loop implementing a loop with condition naturally ocurring mid-block</figcaption><pre class="code-listing">

functionValueList = []

# initialisation
print("Please enter a positive whole number")             # 
print("or any other value to conclude: ")                 #---> do stuff 1
numberString = input()                                    #

while numberString.isnumeric():                           #------> check

   number = int(numberString)                             # 
   functionValue = number**2 + 3 * number + 4             #---> do stuff 2
   functionValueList.append(functionValue)                #

   print("Please enter a positive whole number")          # 
   print("or any other value to conclude: ")              #---> do stuff 1
   numberString = input()                                 #
                                                       
print(functionValueList)                                                               </pre>                                                       
			    </figure>

			    <p>In the case of a loop like this, the <span class="fw">break</span> construct can be used to avoid this repetition and implement the loop in a way that matches directly what is going on. In this case, the while-loop condition is set to <span class="fw">True</span> and not really acting as a condition. The exit condition is checked with an <span class="fw">if</span> statement in the middle of the loop statement block and the exit effected with the <span class="fw">break</span> statement if the condition is true. In code snippet <a class="xref" href="#py-mid-check-with-break">?</a>, code snippet <a class="xref" href="#py-mid-check-no-break">?</a> is rewritten to make use of this approach.</p>
			    <figure id="py-mid-check-with-break" class="my1">
				<figcaption>Using the break construct for mid-block exit from iteration</figcaption><pre class="code-listing">
functionValueList = []

while True:                           

   print("Please enter a positive whole number")          # 
   print("or any other value to conclude: ")              #---> do stuff 1
   numberString = input()                                 #

   if not numberString.isnumeric():                       #------> check
      break

   number = int(numberString)                             # 
   functionValue = number**2 + 3 * number + 4             #---> do stuff 2
   functionValueList.append(functionValue)                #

                                                       
print(functionValueList)                                                               </pre>                                                       
			    </figure>

			    <p>Notice that in code snippet <a class="xref" href="#py-mid-check-with-break">?</a> the check in the middle uses condition <span class="fw">not numberString.isnumeric()</span>, which is the opposite of the while statement condition in code snippet <a class="xref" href="#py-mid-check-no-break">?</a>, <span class="fw">numberString.isnumeric()</span>.</p>
			    
			    <details class="ice"><summary></summary>
				<p>Rewrite code snippet <a class="xref" href="#py-while-indet-file">?</a> so that obtaining the next number from the file features only once in the code (in the while loop statement block).</p>
				<p><a href="res/files/python/loops/mid_check.py">EXAMPLE SOLUTION</a></p>
			    </details>

			    <h3><span style="font-size: x-large" class="fw">else</span> example</h3>
			    <p>Some while loops have more than one condition for exiting. One might be the while statement condition, while another is embedded in the middle of the loop statement block, like in the previous example. The <span class="fw">else</span> clause at the end of the Python while loop specifies code to be executed only if the while loop exits because of the while statement condition being false.</p>
			    <p>Code snippet <a class="xref" href="#py-break-and-else">?</a> has two conditions, one checking the password value (the <span class="fw">while</span> condition) and the other the number of attempts (<span class="fw">if</span> in the middle of the iteration block). After the while loop is exited, it would be good to know whether it happened because the user exhausted the attempts of because they entered the correct password, so that the user can be given the appropriate message. The <span class="fw">else</span> clause does this: it is executed only when the loop exits as a consequence of the password being correct.</p>
			    
			    <figure id="py-break-and-else" class="my1">
				<figcaption>Using break and else</figcaption><pre class="code-listing">
storedHash = hash("abcde")
attempt = 0
hashed = hash("") # dummy: hash of "" (not allowed as password) 
while hashed != storedHash:
   attempt += 1

   if attempt == 7:
      print("Sorry, you have run out of tries.")
      break
   
   if hashed == hash(""):
      pwd = input("Please enter your password: ")
   else:
      pwd = input("Password incorrect. Please try again: ")
   hashed = hash(pwd)
else:
   print("You are now logged in.")			    </pre>
			    </figure>

			    <details class="ice"><summary></summary>
				<p>Write a while loop with <span class="fw">break</span> and <span class="fw">else</span> statements that reads words input by the user and prints out the list of collected words at the end. Do not add a word to the list if it contains non-alphabetic characters. Use sentinel values:</p>
				<ul>
				    <li>full stop (<span class="fw">.</span>) to signal the end of input</li>
				    <li>three dashes (<span class="fw">---</span>) for cancelling the entire process</li>
				</ul>
				
				<p><a href="res/files/python/loops/break_and_else.py">EXAMPLE SOLUTION</a></p>
			    </details>
			    
			    
			    <h3><span style="font-size: x-large" class="fw">continue</span> example</h3>

			    <p>Let's say we want to print out all the numbers from 1 to 100, leaving any numbers that contain zeroes. One way to escape from the iteration that we do not want to complete is by calling <span class="fw">continue</span>. It does not cause an exit from the loop.</p>

			    <figure id="py-continue" class="my1">
				<figcaption>Printing numbers with no zeroes</figcaption><pre class="code-listing">
count = 0
while count < 101:
   count += 1
   if '0' in str(count):
      continue
   print(count)		    </pre>
			    </figure>

			    <details class="ice"><summary></summary>
				<p>Write a script in Python that uses a while loop with a break and a continue construct. It should read words input by the user, with sentinel value '.' for ending. In the case that the word is made out of alphabetic characters only, it should be converted to uppercase and its characters printed out separated by spaces, otherwise nothing else should be done in that iteration.</p>
				<p><a href="res/files/python/loops/break_and_continue.py">EXAMPLE SOLUTION</a></p>
			    </details>
			</article>
                    </li>
		</ol>
	    </article>
	    <p id="sig">Jelena Vasić</p>
	</div>

	<script type="text/javascript" src="../common/res/scripts/main.js"></script>
	<script type="text/javascript" src="../common/res/scripts/modules/xrefs.js"></script>
	<script type="text/javascript" src="res/scripts/xrefs.js"></script>
    </body>
</html>
